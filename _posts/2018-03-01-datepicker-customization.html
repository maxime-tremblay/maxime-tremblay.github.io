---
layout: post
title: Datepicker Customization
date: '2018-03-01T09:07:00.000-05:00'
author: Maxime Tremblay
tags:
- DATEPICKER
- CUSTOMIZATION
- APEX5
modified_time: '2019-02-21T09:20:58.036-05:00'
thumbnail: https://3.bp.blogspot.com/-HLlWDazp9GM/WpgJgJ67ezI/AAAAAAAABrY/nm-g8iki4nEhFc77jT4YYRZjLE7uOTTVACLcBGAs/s72-c/Datepicker.png
blogger_id: tag:blogger.com,1999:blog-267713902572011003.post-7477650560835683554
blogger_orig_url: https://max-tremblay.blogspot.com/2018/03/datepicker-customization.html
---

<div class="separator" style="clear: both; display: none; text-align: center;"><img border="0" data-original-height="652" data-original-width="759" height="274" src="https://3.bp.blogspot.com/-HLlWDazp9GM/WpgJgJ67ezI/AAAAAAAABrY/nm-g8iki4nEhFc77jT4YYRZjLE7uOTTVACLcBGAs/s320/Datepicker.png" width="320" /></div>Back in 2010, the Oracle Application Express release 4.0 included the jQuery JavaScript library as well as the jQuery UI JavaScript library. With it came the new revision of the datepicker item based on the jQuery UI's widget as we have it today. Most of the widget's options are available to us as item attributes.<br />But, there might come a time when you get asked or need to change some option that is not available.<br /><br />Maybe you need to change the first day of the week to Monday instead of Sunday, or need to disable some days, etc.<br /><br />For a list of all available options and the utility functions, you should have a look at the <a href="http://api.jqueryui.com/1.10/datepicker/" target="_blank">Datepicker Widget API Documentation</a>.<br /><br />There are a couple of nice hidden features that you might not know existed.<br />Let's have a look at a couple of them.<br /><br />Changing the first day of the week to Mondays <br /><blockquote class="tr_bq"><pre class="line-numbers language-javascript"><code>$('#P1000_DATE_3').datepicker("option", "firstDay", 1);<br /></code></pre></blockquote><br />Disabling the selection of weekends using built-in utility function.<br /><blockquote class="tr_bq"><pre class="line-numbers language-javascript"><code>$('#P1000_DATE_4').datepicker("option", "beforeShowDay", $.datepicker.noWeekends);<br /></code></pre></blockquote><br />Disabling the selection of Mondays<br /><blockquote class="tr_bq"><pre class="line-numbers language-javascript"><code>function disableMondays(pDate){<br />    var lTooltipDate = "Tooltip for disabled dates";<br />    if (pDate.getDay() === 1) {<br />        return [false, 'disabledDayClass', lTooltipDate];<br />    }<br />    else {<br />        return [true, null, null];<br />    }<br />}<br /><br />$('#P1000_DATE_5').datepicker("option", "beforeShowDay", function(date) {return disableMondays(date);});<br /></code></pre></blockquote><br />However, if you change an option for a datepicker item, you'll notice that the icon trigger will look different.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://4.bp.blogspot.com/-6Y_YUy2R2Eg/WpYErX_U6ZI/AAAAAAAABq4/480JDSD6pksXI304DRxSq7BiIZOBDK8WQCLcBGAs/s1600/Datepicker-APEX5.0.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="350" data-original-width="1054" height="132" src="https://4.bp.blogspot.com/-6Y_YUy2R2Eg/WpYErX_U6ZI/AAAAAAAABq4/480JDSD6pksXI304DRxSq7BiIZOBDK8WQCLcBGAs/s400/Datepicker-APEX5.0.png" width="400" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://2.bp.blogspot.com/-cKTHzIHpZwQ/WpYErQs_zuI/AAAAAAAABq0/Eln8oxF3TK8Q_UgzdVuMGL-UD0XslWrgwCLcBGAs/s1600/Datepicker-APEX5.1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="360" data-original-width="1048" height="136" src="https://2.bp.blogspot.com/-cKTHzIHpZwQ/WpYErQs_zuI/AAAAAAAABq0/Eln8oxF3TK8Q_UgzdVuMGL-UD0XslWrgwCLcBGAs/s400/Datepicker-APEX5.1.png" width="400" /></a></div><br />So what's going on exactly?<br />Let's have a look at the html.<br /><br />Before changing an option:<br /><blockquote class="tr_bq"><pre class="line-numbers language-html"><code>&lt;input type="text" class="datepicker apex-item-text apex-item-datepicker hasDatepicker" id="P1000_DATE_1" name="P1000_DATE_1" maxlength="" size="30" value="" autocomplete="off"&gt;</code><br /><code class="highlight">&lt;button type="button" class="ui-datepicker-trigger a-Button a-Button--calendar"&gt;</code><br /><code>    &lt;span class="a-Icon icon-calendar"&gt;&lt;/span&gt;<br />    &lt;span class="u-VisuallyHidden"&gt;Popup Calendar: Date&lt;span&gt;&lt;/span&gt;&lt;/span&gt;<br />&lt;/button&gt;<br /></code></pre></blockquote><br />After changing an option:<br /><blockquote class="tr_bq"><pre class="line-numbers language-html"><code>&lt;input type="text" class="datepicker apex-item-text apex-item-datepicker hasDatepicker" id="P1000_DATE_1" name="P1000_DATE_1" maxlength="" size="30" value="" autocomplete="off"&gt;</code><br /><code class="highlight">&lt;button type="button" class="ui-datepicker-trigger"&gt;</code><br /><code>    &lt;span class="a-Icon icon-calendar"&gt;&lt;/span&gt;<br />    &lt;span class="u-VisuallyHidden"&gt;Popup Calendar: Date&lt;span&gt;&lt;/span&gt;&lt;/span&gt;<br />&lt;/button&gt;<br /></code><br /></pre></blockquote><br />We can see that the button element is missing two APEX classes after an option is changed:<br /><blockquote class="tr_bq"><pre class="language-html"><code>a-Button a-Button--calendar</code></pre></blockquote><br />So, to fix the issue with the button trigger we simply need to add the classes back.<br />That's also exactly what APEX is doing on page load for each datepicker item.<br /><blockquote class="tr_bq"><pre class="line-numbers language-javascript"><code>(function() {<br />    apex.widget.datepicker("#P1000_DATE_1", {<br />        "buttonImageOnly": false,<br />        "buttonText": "\u003Cspan class=\u0022a-Icon icon-calendar\u0022\u003E\u003C\u002Fspan\u003E\u003Cspan class=\u0022u-VisuallyHidden\u0022\u003EPopup Calendar: Date\u003Cspan\u003E",<br />        "showTime": false,<br />        "defaultDate": new Date(2018, 1, 26, 20, 32, 47),<br />        "showOn": "button",<br />        "showOtherMonths": false,<br />        "changeMonth": false,<br />        "changeYear": false<br />    }, "dd-M-y", "en");</code><br /><code class="highlight">    apex.jQuery('#P1000_DATE_1').next('button').addClass('a-Button a-Button--calendar');</code><br /><code>})();<br /></code></pre></blockquote><br />Having a look again at our first example (changing the first day of the week to Mondays). We should use something like this.<br /><blockquote class="tr_bq"><pre class="line-numbers language-javascript"><code>$('#P1000_DATE_3').datepicker("option", "firstDay", 1).next('button').addClass('a-Button a-Button--calendar');<br /></code></pre></blockquote>Now, what if you would like to change an option for every datepicker in your application.<br /><br />Once a datepicker is initialized a "hasDatepicker" class is added to the element. So instead of using the item ID as the jQuery selector, we could use that class and have the code execute on page load.<br /><blockquote class="tr_bq"><pre class="line-numbers language-javascript"><code>$('.hasDatepicker').datepicker("option", "firstDay", 1).next('button').addClass('a-Button a-Button--calendar');<br /></code></pre></blockquote><style>pre > code.highlight {     outline: .4em solid red;     outline-offset: .4em; } </style> <br />If the previous code is not working as expected, it my be due to a timing issue. Since the code to customize the datepicker items is executed on page load and that the dapicker are initialized on page load also. The customizing code could be running before the actual initialization. To fix that you can add a short delay to it.<br /><br />You can have a look at it in action in my&nbsp;<a href="http://max-playground.ddns.net/ords/f?p=DEMO:3200" target="_blank">Demo Application</a><br /><br />Enjoy! 