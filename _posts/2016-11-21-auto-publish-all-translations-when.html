---
layout: post
title: Auto Publish All Translations When Importing an Application
date: '2016-11-21T09:48:00.000-05:00'
author: Maxime Tremblay
tags:
- EXPORT
- AUTOMATIC
- SUPPORTING OBJECTS
- TRANSLATION
- APEX5
modified_time: '2017-02-02T21:20:37.354-05:00'
thumbnail: https://2.bp.blogspot.com/-Hz8FWC5KyZ4/WDMEsZVjb8I/AAAAAAAAAQo/OPprlgn3iXU5CXF8A3nga9RsNXkkoCsWgCLcB/s72-c/apt%2B-%2Bsupporting%2Bobjects.png
blogger_id: tag:blogger.com,1999:blog-267713902572011003.post-2504921997071013787
blogger_orig_url: https://max-tremblay.blogspot.com/2016/11/auto-publish-all-translations-when.html
---

When working with translated application, once everything is done in the source application, you need to seed all the translations, then translate what needs to be and then publish all the translations.<br />When migrating the application, you will have two choices.<br /><br /><ol><li>Export the source application and export all mapped translated applications. Then import all the application in the other environment</li><li>Export the source application only including the translations (export preferences attribute). Then import the application in the other environment. Then publish all translations.</li></ol><br />I usually go with the second method.<br />If the person that migrates the application knows their way around Apex, it's not that big of a deal.<br />But when it's not the developer that migrates the applications (e.g. when it's the DBAs), it can be more complicated to explain them the complete procedure.<br />Furthermore, it could happen that the person who imports the application simply forgets to publish the translations afterwards.<br /><br />I thought it would be great if the option to include translations when exporting the application also published them when importing the application, but unfortunately, it's not the case.<br /><br />One thing you can do is to use the apex_lang.publish_application API<br /><a href="http://docs.oracle.com/cd/E59726_01/doc.50/e39149/apex_lang.htm#CHDCBEDE" target="_blank">http://docs.oracle.com/cd/E59726_01/doc.50/e39149/apex_lang.htm#CHDCBEDE</a><br /><br />You can use it just like in the API's documentation example as a script you would need to run after the import process.<br /><br />But it would be great if that was executed as part of the install process.<br /><br />Supporting Objects to the rescue!!<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://2.bp.blogspot.com/-Hz8FWC5KyZ4/WDMEsZVjb8I/AAAAAAAAAQo/OPprlgn3iXU5CXF8A3nga9RsNXkkoCsWgCLcB/s1600/apt%2B-%2Bsupporting%2Bobjects.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img alt="Supporting Objects" border="0" height="95" src="https://2.bp.blogspot.com/-Hz8FWC5KyZ4/WDMEsZVjb8I/AAAAAAAAAQo/OPprlgn3iXU5CXF8A3nga9RsNXkkoCsWgCLcB/s400/apt%2B-%2Bsupporting%2Bobjects.png" title="Supporting Objects" width="400" /></a></div><br /><br />What we need to do is to create an Installation Script from scratch using the Editor that simply calls the API.<br /><br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://4.bp.blogspot.com/-2b-oW9xFr0k/WDMFrfgKN6I/AAAAAAAAARA/Fbih1u5ivpgSdti_NYm5H_TukjhV956twCLcB/s1600/apt%2B-%2Bcreate%2Binstallation%2Bscript%2B1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="140" src="https://4.bp.blogspot.com/-2b-oW9xFr0k/WDMFrfgKN6I/AAAAAAAAARA/Fbih1u5ivpgSdti_NYm5H_TukjhV956twCLcB/s400/apt%2B-%2Bcreate%2Binstallation%2Bscript%2B1.png" width="400" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://2.bp.blogspot.com/-VbS7W5yr_c4/WDMFrcGhQMI/AAAAAAAAARI/6GG2EAMWsI4JRm_9ZGb0oN8qqsGGBn8BgCLcB/s1600/apt%2B-%2Bcreate%2Binstallation%2Bscript%2B2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="238" src="https://2.bp.blogspot.com/-VbS7W5yr_c4/WDMFrcGhQMI/AAAAAAAAARI/6GG2EAMWsI4JRm_9ZGb0oN8qqsGGBn8BgCLcB/s400/apt%2B-%2Bcreate%2Binstallation%2Bscript%2B2.png" width="400" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://2.bp.blogspot.com/-AhMyk90iAJg/WDMFrTCd7dI/AAAAAAAAARE/HRmqkGSfP_QgVAG1dF3DObJ4-IrrZDCrACLcB/s1600/apt%2B-%2Bcreate%2Binstallation%2Bscript%2B3.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="236" src="https://2.bp.blogspot.com/-AhMyk90iAJg/WDMFrTCd7dI/AAAAAAAAARE/HRmqkGSfP_QgVAG1dF3DObJ4-IrrZDCrACLcB/s400/apt%2B-%2Bcreate%2Binstallation%2Bscript%2B3.png" width="400" /></a><a href="https://1.bp.blogspot.com/-wGn4jgt-m7o/WDMFrvZfv8I/AAAAAAAAARM/hhZJZDPWVxABjk7QOhrhjK4LdhiHST1gQCLcB/s1600/apt%2B-%2Bcreate%2Binstallation%2Bscript%2B4.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="141" src="https://1.bp.blogspot.com/-wGn4jgt-m7o/WDMFrvZfv8I/AAAAAAAAARM/hhZJZDPWVxABjk7QOhrhjK4LdhiHST1gQCLcB/s400/apt%2B-%2Bcreate%2Binstallation%2Bscript%2B4.png" width="400" /></a></div><span id="goog_1599088203"></span><span id="goog_1599088204"></span><br /><br /><br />Use below code:<br /><pre class="line-numbers"><code class="language-sql"><br />declare<br />    -- if using apex 5.0+, you can use 'apex_application_install.get_application_id' to retrieve the application id<br />    -- otherwise, you need to hardcode the application id<br />    l_app_id number := apex_application_install.get_application_id;<br />begin<br />    for i in (select primary_application_id, translated_app_language<br />                from apex_application_trans_map<br />               where primary_application_id = l_app_id)<br />    loop<br />        apex_lang.publish_application(i.primary_application_id, i.translated_app_language);<br />    end loop;<br />end;<br />/<br /></code></pre><br />Then, when you'll export your application, make sure you include the supporting objects and that you export the translations.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-8qvsjkxMMDo/WDMGd5O4i-I/AAAAAAAAARQ/-6LNCx8gXD0JHm_pNRE4NYbNTeLnLsfcQCLcB/s1600/apt%2B-%2Bexport%2Bapplication.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="193" src="https://1.bp.blogspot.com/-8qvsjkxMMDo/WDMGd5O4i-I/AAAAAAAAARQ/-6LNCx8gXD0JHm_pNRE4NYbNTeLnLsfcQCLcB/s400/apt%2B-%2Bexport%2Bapplication.png" width="400" /></a></div><br /><blockquote class="tr_bq" style="background-color: rgba(0 , 0 , 0 , 0.2); border-radius: 30px; padding: 30px;">Note: Depending on how you will import the application, the "Export Supporting Object Definitions" attribute has to be set to either "Yes" or "Yes and Install on Import Automatically".<br /><br />Looking at the attribute's help: <br /><ul><li><b>Yes</b> Includes supporting object definitions in the application export. Does not automatically load supporting objects when invoked from a command line.</li></ul><ul><li><b>Yes and Install on Import Automatically</b> Includes supporting object definitions and a call to install supporting objects in the application export. This option is valid only for command line installs. When application imports from the command line, it automatically installs or upgrades the supporting objects.</li></ul>So, if you import the application from Apex either will work, but if you import from a command line, you should set the attribute to "Yes and Install on Import Automatically".</blockquote><br />When you'll import the application, simply choose to install the supporting objects.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-N5EMdgjeOGw/WDMIcYYMZKI/AAAAAAAAARo/I-HvgqTNgbY4lAV6CV9LUII4tkEaT9usQCLcB/s1600/apt%2B-%2Binstall%2Bapplication%2B1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="246" src="https://1.bp.blogspot.com/-N5EMdgjeOGw/WDMIcYYMZKI/AAAAAAAAARo/I-HvgqTNgbY4lAV6CV9LUII4tkEaT9usQCLcB/s400/apt%2B-%2Binstall%2Bapplication%2B1.png" width="400" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-T6nUbp2x6pA/WDMIcc6dfAI/AAAAAAAAARk/-7KmjbITxzUumAgdYE3bTlwDEU0TPxu2ACLcB/s1600/apt%2B-%2Binstall%2Bapplication%2B2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="217" src="https://1.bp.blogspot.com/-T6nUbp2x6pA/WDMIcc6dfAI/AAAAAAAAARk/-7KmjbITxzUumAgdYE3bTlwDEU0TPxu2ACLcB/s400/apt%2B-%2Binstall%2Bapplication%2B2.png" width="400" /></a></div><br /><br />Voila, your application's translations will be automatically published as part of the import process.<br /><br />EDIT: Added a note regarding the "Export Supporting Object Definitions" attribute.