---
layout: post
title: Adding a Clear Icon to an Item
date: '2016-09-09T11:30:00.002-04:00'
author: Maxime Tremblay
tags:
- Icon
- Item
- APEX5
- Clear
modified_time: '2019-02-21T09:14:58.246-05:00'
thumbnail: https://4.bp.blogspot.com/-I4aQithEVqc/V9MuPI0ihoI/AAAAAAAAAN8/drYoI-KpEnoAX0L0aGAQtQOHLrJHT78uACLcB/s72-c/input_clear_icon.gif
blogger_id: tag:blogger.com,1999:blog-267713902572011003.post-790660368480950849
blogger_orig_url: https://max-tremblay.blogspot.com/2016/09/adding-clear-icon-to-item_58.html
---

Here's how to add a clear icon to an item (similar to the calendar icon of the datepicker item).<br />Since the datepicker's icon has the same look and feel as what we want, let's reuse the same CSS and html.<br /><br />Let's inspect the html code of the datepicker's icon:<br /><br /><pre class="line-numbers"><code class="language-html">&lt;button class="ui-datepicker-trigger a-Button a-Button--calendar" type="button"&gt;<br />    &lt;span class="a-Icon icon-calendar"&gt;&lt;/span&gt;<br />    &lt;span class="u-VisuallyHidden"&gt;Popup Calendar: Date Picker&lt;/span&gt;<br />&lt;/button&gt;<br /></code></pre><br /><ul><li>ui-datepicker-trigger: class used to handle the click event<ul><li>Let's rename that to 'clearItem-trigger'</li></ul></li><li>a-Button: standard look and feel of buttons<ul><li>Let's reuse it as we want the same look and feel</li></ul></li><li>a-Button--calendar: additional css for the calendar icon<ul><li>Let's rename that to 'a-Button--clearInput'</li></ul></li><li>icon-calendar: image of the calendar</li><ul><li>Let's replace it with a clear icon: 'icon-remove'</li></ul></ul>We can then retrieve and adapt the CSS for the above classes from the Core.min.css.<br />We will then have the following CSS:<br /><pre class="line-numbers"><code class="language-css">.t-Form-inputContainer .a-Button--clearInput{<br />    margin-left: -.1rem;<br />    order: 3; /* Apex 5.1: Set the correct order */<br />}<br /><br />.t-Form--large .a-Button.a-Button--clearInput,<br />.t-Form-fieldContainer--large .a-Button.a-Button--clearInput {<br />    padding: .8rem 1.2rem<br />}<br /><br />.t-Form--xlarge .a-Button.a-Button--clearInput,<br />.t-Form-fieldContainer--xlarge .a-Button.a-Button--clearInput {<br />    padding: 1.4rem 1.2rem<br />}<br /><br />.t-Form--login .a-Button.a-Button--clearInput {<br />    padding: 1rem 1.2rem<br />}<br /></code></pre><br />That's for the visual aspect of the icon.<br />Let's now add the following JavaScript&nbsp;code that will add the remove icon and that&nbsp;will handle the click event.<br /><br />JavaScript code on page page load:<br /><pre class="line-numbers"><code class="language-javascript">$('.clearInput').each(function(){<br />    var lTriggerHtml = '&lt;button class="clearInput-trigger a-Button a-Button--clearInput" data-item_id="' + $(this).attr('id') + '" type="button"&gt;'<br />                     +     '&lt;span class="a-Icon icon-remove"&gt;&lt;/span&gt;'<br />                     +     '&lt;span class="u-VisuallyHidden"&gt;Clear Item\'s Value&lt;/span&gt;'<br />                     + '&lt;/button&gt;';<br />    $(this).after(lTriggerHtml);<br />});<br /><br />$('.clearInput-trigger').click(function(){<br />    $('#' + $(this).data('item_id')).val('');<br />});<br /></code></pre><br />The first part will add the clear button after each element that has the 'clearInput' class.<br />The second part is used to handle the click event.<br /><br />Now you simply have to add the 'clearInput' class (under the item's Advanced properties) to each item you want the clear button to be added.<br /><br />One thing to note is that the above code will not trigger the item's change event.<br />If you would also like to trigger the change event, we could add an additionnal CSS class to the item like 'clearInput--change' and update the second part of the JavaScript code to:<br /><br />We need to add the two following classes:<br /><pre class="line-numbers"><code class="language-javascript">$('.clearInput-trigger').click(function(){<br />    var triggeringElement = $('#' + $(this).data('item_id'));<br />    <br />    triggeringElement.val('');<br />    <br />    if (triggeringElement.hasClass('clearInput--change')){<br />        triggeringElement.change();<br />    }<br />});<br /></code></pre><br />We also need to update the JavaScript Code that adds the button so that it assigns the corresponding CSS class to the button.<br /><pre class="line-numbers"><code class="language-javascript">$('.clearInput').each(function(){<br />    var lClearInputClass = $(this).hasClass('clearInput--inside') ? 'a-Button--clearInputInside': 'a-Button--clearInput';<br />    var lTriggerHtml = '&lt;button class="clearInput-trigger a-Button ' + lClearInputClass + '" data-item_id="' + $(this).attr('id') + '" type="button"&gt;'<br />                     +     '&lt;span class="a-Icon icon-remove"&gt;&lt;/span&gt;'<br />                     +     '&lt;span class="u-VisuallyHidden"&gt;Clear Item\'s Value&lt;/span&gt;'<br />                     + '&lt;/button&gt;';<br />    <br />    $(this).after(lTriggerHtml);<br />});<br /></code></pre><br />Now supposed that you would like to have the icon be inside the element.<br />You need to have the element has right padding (equal to the width of the icon, 32px in our case) and you need to move the icon left by the same amount.<br /><br /><pre class="line-numbers"><code class="language-css">.clearInput--inside{<br />    padding-right: 32px !important;<br />}<br /><br />.t-Form-inputContainer .a-Button--clearInputInside{<br />    margin-left: -32px;<br />}<br /></code></pre><br />Simply have to set the 'clearInput clearInput--inside' class (under the item's Advanced properties) to each item you want the clear button to be added inside.<br /><br />Final JavaScript:<br /><pre class="line-numbers"><code class="language-javascript">$('.clearInput').each(function(){<br />    var lClearInputClass = $(this).hasClass('clearInput--inside') ? 'a-Button--clearInputInside': 'a-Button--clearInput';<br />    var lTriggerHtml = '&lt;button class="clearInput-trigger a-Button ' + lClearInputClass + '" data-item_id="' + $(this).attr('id') + '" type="button"&gt;'<br />                     +     '&lt;span class="a-Icon icon-remove"&gt;&lt;/span&gt;'<br />                     +     '&lt;span class="u-VisuallyHidden"&gt;Clear Item\'s Value&lt;/span&gt;'<br />                     + '&lt;/button&gt;';<br />    <br />    $(this).after(lTriggerHtml);<br />});<br /> <br />$('.clearInput-trigger').click(function(){<br />    var triggeringElement = $('#' + $(this).data('item_id'));<br />     <br />    triggeringElement.val('');<br />     <br />    if (triggeringElement.hasClass('clearInput--change')){<br />        triggeringElement.change();<br />    }<br />});<br /></code></pre><br />Final CSS:<br /><pre class="line-numbers"><code class="language-css">.clearInput--inside{<br />    padding-right: 32px !important;<br />}<br /><br />.t-Form-inputContainer .a-Button--clearInputInside{<br />    margin-left: -32px;<br />}<br /><br />.t-Form-inputContainer .a-Button--clearInput{<br />    margin-left: -.1rem;<br />    order: 3; /* Apex 5.1: Set the correct order */<br />}<br /> <br />.t-Form--large .a-Button.a-Button--clearInput,<br />.t-Form-fieldContainer--large .a-Button.a-Button--clearInput {<br />    padding: .8rem 1.2rem<br />}<br /> <br />.t-Form--xlarge .a-Button.a-Button--clearInput,<br />.t-Form-fieldContainer--xlarge .a-Button.a-Button--clearInput {<br />    padding: 1.4rem 1.2rem<br />}<br /> <br />.t-Form--login .a-Button.a-Button--clearInput {<br />    padding: 1rem 1.2rem<br />}</code></pre><br />Here's the end result:<br /><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"><a href="https://4.bp.blogspot.com/-I4aQithEVqc/V9MuPI0ihoI/AAAAAAAAAN8/drYoI-KpEnoAX0L0aGAQtQOHLrJHT78uACLcB/s1600/input_clear_icon.gif" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="470" src="https://4.bp.blogspot.com/-I4aQithEVqc/V9MuPI0ihoI/AAAAAAAAAN8/drYoI-KpEnoAX0L0aGAQtQOHLrJHT78uACLcB/s640/input_clear_icon.gif" width="640" /></a></div><div class="separator" style="clear: both; text-align: left;"><br /></div><br />You can have a look at my&nbsp;<a href="http://max-playground.ddns.net/ords/f?p=DEMO:2100" target="_blank">Demo Application</a>